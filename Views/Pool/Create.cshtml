<!-- Views/Pool/Create.cshtml -->
@model ExpenseSplitter.ViewModels.CreatePoolViewModel
@{
    ViewData["Title"] = "Create Split Pool";
}

<style>
    .pool-form-container {
        max-width: 700px;
        margin: 2rem auto;
    }

    .form-section {
        background: white;
        padding: 2rem;
        border-radius: 15px;
        margin-bottom: 1.5rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }

    .section-title {
        color: #667eea;
        font-weight: 600;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .input-icon {
        position: relative;
    }

        .input-icon i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .input-icon .form-control {
            padding-left: 45px;
        }

    textarea.form-control {
        resize: none;
    }

    .helper-text {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #666;
        font-size: 0.9rem;
        margin-top: 0.5rem;
    }

    .btn-create-pool {
        height: 3.5rem;
        font-size: 1.2rem;
        border-radius: 12px;
        font-weight: 600;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
    }

        .btn-create-pool:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
</style>

<div class="pool-form-container">
    <div class="text-center mb-4">
        <h1 class="display-5 fw-bold" style="color: #667eea;">
            <i class="fas fa-layer-group"></i> Create New Pool
        </h1>
        <p class="text-muted">Split expenses with your friends easily</p>
    </div>

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-danger rounded-3">
            <i class="fas fa-exclamation-circle"></i> @ViewBag.Error
        </div>
    }

    <form asp-controller="Pool" asp-action="Create" method="post">
        <div class="form-section">
            <div class="section-title">
                <i class="fas fa-tag"></i> Pool Details
            </div>

            <div class="mb-3">
                <label asp-for="Title" class="form-label fw-semibold">Pool Title</label>
                <div class="input-icon">
                    <i class="fas fa-heading"></i>
                    <input asp-for="Title" class="form-control" placeholder="e.g., Goa Trip, Birthday Party" required />
                </div>
                <div class="helper-text">
                    <i class="fas fa-info-circle"></i>
                    <span>What is this split for?</span>
                </div>
            </div>

            <div class="mb-3">
                <label asp-for="TotalAmount" class="form-label fw-semibold">Total Amount</label>
                <div class="input-icon">
                    <i class="fas fa-rupee-sign"></i>
                    <input asp-for="TotalAmount" class="form-control" type="number" step="0.01" min="0" placeholder="5000" required />
                </div>
                <div class="helper-text">
                    <i class="fas fa-calculator"></i>
                    <span>Total money to be split among members</span>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="section-title">
                <i class="fas fa-users"></i> Add Members
            </div>

            <div class="mb-3">
                <label class="form-label fw-semibold">Member Emails (One per line)</label>
                <textarea name="memberEmailsInput" class="form-control" rows="6" required placeholder="friend1@example.com
friend2@example.com
friend3@example.com"></textarea>
                <div class="helper-text">
                    <i class="fas fa-lightbulb"></i>
                    <span>Add emails of registered users. They must have accounts first!</span>
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-primary btn-create-pool w-100">
            <i class="fas fa-plus-circle"></i> Create Pool Now
        </button>
    </form>
</div>